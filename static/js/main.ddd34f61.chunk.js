(this["webpackJsonpcanvas-react"]=this["webpackJsonpcanvas-react"]||[]).push([[0],[,,function(e,a,t){e.exports={label_animat:"Nav_label_animat__15tQW",label_flex:"Nav_label_flex__2ciUT",num_range:"Nav_num_range__28yVn",colorBox:"Nav_colorBox__KSG9H",text:"Nav_text__2g1Ma"}},,function(e,a,t){e.exports={switchBtn:"Canvas_switchBtn__39dxK",hiddenCheckbox:"Canvas_hiddenCheckbox__mkkCm",switchArea:"Canvas_switchArea__3c5uh",switchToggle:"Canvas_switchToggle__2qLHW"}},function(e,a,t){e.exports={title:"Header_title__MRaSM",navList:"Header_navList__uLGPU"}},,,function(e,a,t){e.exports={App:"App_App__-TQM6",link:"App_link__XOOW6"}},function(e,a,t){e.exports=t(15)},,,,,function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(7),i=t.n(r),c=t(3),o=t(1),u=Object(n.createContext)();function m(e){var a=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.getContext){var n=e.getContext("2d");this.speed=t.animation.speed+t.animation.variantSpeed*Math.random(),this.direction=Math.floor(360*Math.random());var l=Array.from(t.color);this.color=l[Math.floor(Math.random()*l.length+1)-1],this.radius=t.radius+t.variantRadius*Math.random(),this.x="text"===t.nav?t.text.x:Math.floor(Math.random()*(t.w-this.radius)+this.radius),this.y="text"===t.nav?t.text.y:Math.floor(Math.random()*(t.h-this.radius)+this.radius),this.vector={x:this.speed*Math.cos(this.direction),y:this.speed*Math.sin(this.direction)},this.text=t.text.text,this.update=function(){a.border(),a.x+=a.vector.x,a.y+=a.vector.y},this.border=function(){(a.x+a.radius>=t.w||a.x-a.radius<=0)&&(a.vector.x*=-1),(a.y+a.radius>=t.h||a.y-a.radius<=0)&&(a.vector.y*=-1),a.x>t.w&&(a.x=t.w),a.y>t.h&&(a.y=t.h),a.x<0&&(a.x=0),a.y<0&&(a.y=0)},this.particle=function(e,t){n.beginPath(),n.arc(e,t,a.radius,0,2*Math.PI),n.closePath(),n.fillStyle=a.color,n.fill()},this.drawText=function(){if(console.log(t),n.textAlign="center",n.font=t.text.size+"px arial",n.fillText(a.text,a.x,a.y),t.text.isParticle){var e=n.getImageData(0,0,t.w,t.h),l=new Uint32Array(e.data.buffer);t.text.placement=[];for(var r=0;r<t.h;r+=t.text.grid.y)for(var i=0;i<t.w;i+=t.text.grid.x)l[r*t.w+i]&&t.text.placement.push({x:i,y:r});n.clearRect(0,0,t.w,t.h);for(var c=0;c<t.text.placement.length;c++)a.particle(t.text.placement[c].x,t.text.placement[c].y)}},this.draw=function(){switch(t.nav){case"animat":a.particle(a.x,a.y);break;case"text":a.drawText()}}}}function s(e,a,t,n){for(var l=0;l<a.length;l++){var r=1-(i=e,c=a[l],Math.sqrt(Math.pow(i.x-c.x,2)+Math.pow(i.y-c.y,2)))/t.animation.minDistance;r>0&&t.animation.lineWidth>0&&(n.lineWidth=t.animation.lineWidth,n.strokeStyle=f(t.animation.lineColor,r)||t.animation.lineColor,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(a[l].x,a[l].y),n.closePath(),n.stroke())}var i,c}var f=function(e,a){var t=e.toLowerCase();if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(var n="#",l=1;l<4;l+=1)n+=t.slice(l,l+1).concat(t.slice(l,l+1));t=n}for(var r=[],i=1;i<7;i+=2)r.push(parseInt("0x"+t.slice(i,i+2)));return"RGB("+r.join(",")+","+a+")"}return t},p=t(4),d=t.n(p),x=function(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],r=a[1],i=Object(n.useContext)(u),f=Object(c.a)(i,2),p=f[0],x=f[1],h=[],b=Object(n.createRef)();Object(n.useEffect)((function(){var e=b.current;e.width=p.w,e.height=p.h;for(var a=0;a<("animat"===p.nav?p.animation.number:1);a++)h.push(new m(e,p))}),[b,h,p]),Object(n.useEffect)((function(){v(),window.addEventListener("resize",(function(){!function(){var e;if(!b.current)return;clearTimeout(e),e=setTimeout((function(){x(Object(o.a)({},p,{w:window.innerWidth-202,h:window.innerHeight-2}))}),200)}()}),!1)}));var v=Object(n.useCallback)((function(){var e=b.current;if(e){var a=e.getContext("2d");switch(a.clearRect(0,0,e.width,e.height),p.nav){case"animat":for(var t=0;t<h.length;t++){switch(p.animation.animat){case"\u65e0\u5e8f":h[t].update()}h[t].draw()}for(var n=0;n<h.length;n++)s(h[n],h,p,a);window.requestAnimationFrame(v);break;case"text":h[0].draw()}}}),[b,h,p]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:d.a.switchBtn},l.a.createElement("input",{type:"checkbox",className:d.a.hiddenCheckbox,onChange:function(e){r(e.target.checked)}}),l.a.createElement("span",{className:d.a.switchArea}),l.a.createElement("span",{className:d.a.switchToggle})),l.a.createElement("canvas",{ref:b,style:{backgroundColor:t?"#fafafa":"#282c34"}},"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301canvas\uff0c\u8bf7\u66f4\u6362\u6d4f\u89c8\u5668."))},h=t(2),b=t.n(h);var v=function(){var e=Object(n.useContext)(u),a=Object(c.a)(e,2),t=a[0],r=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"animat :",l.a.createElement("label",{className:b.a.label_animat},l.a.createElement("input",{type:"radio",name:"animat",value:"\u65e0\u5e8f",onChange:function(e){r(Object(o.a)({},t,{animation:Object(o.a)({},t.animation,{animat:e.target.value})}))}}),"\u65e0\u5e8f"),l.a.createElement("label",{className:b.a.label_animat},l.a.createElement("input",{name:"animat",type:"radio",value:"\u5b9a\u683c",onChange:function(e){r(Object(o.a)({},t,{animation:Object(o.a)({},t.animation,{animat:e.target.value})}))}}),"\u5b9a\u683c")),l.a.createElement("p",null,"num :",l.a.createElement("label",null,l.a.createElement("input",{type:"range",min:"1",max:"100",className:b.a.num_range,defaultValue:t.animation.number,onChange:function(e){r(Object(o.a)({},t,{animation:Object(o.a)({},t.animation,{number:parseInt(e.target.value)})}))}}))),l.a.createElement("p",null,"radius :",l.a.createElement("label",{className:b.a.label_flex},l.a.createElement("span",null,"\u534a\u5f84\uff1a"),l.a.createElement("input",{type:"range",min:"1",max:"100",defaultValue:t.radius,onChange:function(e){r(Object(o.a)({},t,{radius:parseInt(e.target.value)}))}})),l.a.createElement("label",{className:b.a.label_flex},l.a.createElement("span",null,"\u5e45\u5ea6\uff1a"),l.a.createElement("input",{type:"range",min:"0",max:"20",defaultValue:t.variantRadius,onChange:function(e){r(Object(o.a)({},t,{variantRadius:parseInt(e.target.value)}))}}))),"\u5b9a\u683c"===t.animation.animat?"":l.a.createElement("p",null,"speed :",l.a.createElement("label",{className:b.a.label_flex},l.a.createElement("span",null,"\u901f\u5ea6\uff1a"),l.a.createElement("input",{type:"range",min:"1",max:"10",defaultValue:t.animation.speed,onChange:function(e){r(Object(o.a)({},t,{animation:Object(o.a)({},t.animation,{speed:parseInt(e.target.value)})}))}})),l.a.createElement("label",{className:b.a.label_flex},l.a.createElement("span",null,"\u5e45\u5ea6\uff1a"),l.a.createElement("input",{type:"range",min:"0",max:"10",defaultValue:t.animation.variantSpeed,onChange:function(e){r(Object(o.a)({},t,{animation:Object(o.a)({},t.animation,{variantSpeed:parseInt(e.target.value)})}))}}))),l.a.createElement("p",null,"line :",l.a.createElement("label",{className:b.a.label_flex},l.a.createElement("span",null,"\u7c97\u7ec6\uff1a"),l.a.createElement("input",{type:"range",min:"0",max:"5",defaultValue:t.animation.lineWidth,onChange:function(e){r(Object(o.a)({},t,{animation:Object(o.a)({},t.animation,{lineWidth:parseInt(e.target.value)})}))}})),l.a.createElement("label",{className:b.a.label_flex},l.a.createElement("span",null,"\u8ddd\u79bb\uff1a"),l.a.createElement("input",{type:"range",min:"0",max:"500",step:"100",defaultValue:t.animation.minDistance,onChange:function(e){r(Object(o.a)({},t,{animation:Object(o.a)({},t.animation,{minDistance:parseInt(e.target.value)})}))}})),l.a.createElement("label",{className:b.a.label_flex},l.a.createElement("span",null,"\u989c\u8272\uff1a"),l.a.createElement("input",{type:"color",defaultValue:"#ffffff",onChange:function(e){r(Object(o.a)({},t,{lineColor:e.target.value}))}}))),l.a.createElement("p",null,"color :",l.a.createElement("label",{className:b.a.label_flex},l.a.createElement("span",null,"\u589e\u52a0\uff1a"),l.a.createElement("input",{type:"color",onChange:function(e){r(Object(o.a)({},t,{color:t.color.add(e.target.value)}))}})),Array.from(t.color).map((function(e,a){return l.a.createElement("span",{key:a,className:b.a.colorBox,style:{backgroundColor:e},onClick:function(){t.color.delete(e),r(Object(o.a)({},t,{color:t.color}))}})}))))};var g=function(){var e=Object(n.useContext)(u),a=Object(c.a)(e,2),t=a[0],r=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"text :",l.a.createElement("label",null,l.a.createElement("input",{type:"text",className:b.a.text,defaultValue:t.text.text,onChange:function(e){r(Object(o.a)({},t,{text:Object(o.a)({},t.text,{text:e.target.value})}))}}))),l.a.createElement("p",null,"size :",l.a.createElement("label",null,l.a.createElement("input",{type:"range",min:"50",max:"150",className:b.a.num_range,defaultValue:t.text.size,onChange:function(e){r(Object(o.a)({},t,{text:Object(o.a)({},t.text,{size:parseInt(e.target.value)})}))}}))),l.a.createElement("p",null,"radius :",l.a.createElement("label",{className:b.a.label_flex},l.a.createElement("span",null,"\u534a\u5f84\uff1a"),l.a.createElement("input",{type:"range",min:"1",max:"100",defaultValue:t.radius,onChange:function(e){r(Object(o.a)({},t,{radius:parseInt(e.target.value)}))}})),l.a.createElement("label",{className:b.a.label_flex},l.a.createElement("span",null,"\u5e45\u5ea6\uff1a"),l.a.createElement("input",{type:"range",min:"0",max:"20",defaultValue:t.variantRadius,onChange:function(e){r(Object(o.a)({},t,{variantRadius:parseInt(e.target.value)}))}}))),l.a.createElement("p",null,"grid :",l.a.createElement("label",{className:b.a.label_flex},l.a.createElement("span",null,"x \uff1a"),l.a.createElement("input",{type:"range",min:"1",max:"10",defaultValue:t.text.grid.x,onChange:function(e){r(Object(o.a)({},t,{text:Object(o.a)({},t.text,{grid:Object(o.a)({},t.text.grid,{x:parseInt(e.target.value)})})}))}})),l.a.createElement("label",{className:b.a.label_flex},l.a.createElement("span",null,"y \uff1a"),l.a.createElement("input",{type:"range",min:"1",max:"10",defaultValue:t.text.grid.y,onChange:function(e){r(Object(o.a)({},t,{text:Object(o.a)({},t.text,{grid:Object(o.a)({},t.text.grid,{y:parseInt(e.target.value)})})}))}}))),l.a.createElement("p",null,"color :",l.a.createElement("label",{className:b.a.label_flex},l.a.createElement("span",null,"\u589e\u52a0\uff1a"),l.a.createElement("input",{type:"color",onChange:function(e){r(Object(o.a)({},t,{color:t.color.add(e.target.value)}))}})),Array.from(t.color).map((function(e,a){return l.a.createElement("span",{key:a,className:b.a.colorBox,style:{backgroundColor:e},onClick:function(){t.color.delete(e),r(Object(o.a)({},t,{color:t.color}))}})}))))},E=t(5),_=t.n(E);var y=function(){var e=Object(n.useContext)(u),a=Object(c.a)(e,2),t=a[0],r=a[1];return l.a.createElement("header",null,l.a.createElement("p",{className:_.a.title},"Canvas"),l.a.createElement("div",null,l.a.createElement("span",{className:_.a.navList},"\u7c7b\u578b\uff1a"),l.a.createElement("select",{onChange:function(e){r(Object(o.a)({},t,{nav:e.target.value}))}},l.a.createElement("option",{value:"text"},"Text"),l.a.createElement("option",{value:"animat"},"Animat"))),l.a.createElement("nav",null,l.a.createElement("div",null,function(){switch(t.nav){case"animat":return l.a.createElement(v,null);case"text":return l.a.createElement(g,null);default:return}}())))},w=t(8),O=t.n(w);var j=function(){var e=function(){var e=Object(n.useState)({nav:"text",w:window.innerWidth-202,h:window.innerHeight-2,color:new Set(["#008000","#66ccff"]),radius:1,variantRadius:10,animation:{number:20,speed:1,variantSpeed:1,lineColor:"#ffffff",lineWidth:1,minDistance:200,animat:"\u65e0\u5e8f"},text:{text:"Hello Canvas",isParticle:!0,x:(window.innerWidth-202)/2,y:(window.innerHeight-2)/2,grid:{x:10,y:10},size:100,placement:[]}}),a=Object(c.a)(e,2);return[a[0],a[1]]}(),a=Object(c.a)(e,2),t=a[0],r=a[1];return l.a.createElement("div",{className:O.a.App},l.a.createElement(u.Provider,{value:[t,r]},l.a.createElement(y,null),l.a.createElement(x,null)))};t(14);i.a.render(l.a.createElement(j,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.ddd34f61.chunk.js.map